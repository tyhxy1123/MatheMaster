% This work is licensed under the Creative Commons
% Attribution-NonCommercial-ShareAlike 4.0 International License. To view a copy
% of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/ or
% send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.

\section{Aufgabenblatt 2}
\subsection{Aufgabe 2.1 (Länge und Tiefe von Formeln?)}

\subsubsection{Aufgabe 2.1 (a)}
\begin{align*}
	\depth\Big(\big(\neg p\to(\neg p\wedge q)\big)\Big)
	&=\max\Big(\depth(\neg p),\depth\big((\neg p\wedge q)\big)\Big)+1\\
	&=\max\Big(\depth(p)+1,\max\big(\depth(\neg p),\depth(q)\big)+1\Big)+1\\
	&=\max\Big(0+1,\max\big(\depth(p)+1,0\big)+1\Big)+1\\
	&=\max\Big(1,\max\big(0+1,0\big)+1\Big)+1\\
	&=\max(1,1+1)+1\\
	&=3
\end{align*}

\subsubsection{Aufgabe 2.1 (b)}
\begin{align*}
	&\length:\mathcal{L}(\mathcal{R})\to\N_{>0},\qquad\\
	&\varphi\mapsto\left\lbrace\begin{array}{cl}
		%0, & \falls \varphi=\Lambda\\
		1, & \falls \varphi=p\in\mathcal{R}\\
		\length(x) + 1, & \falls \varphi=\neg x\mit x\in\mathcal{L}(\mathcal{R})\\
		\length(x_1) + \length(x_2) + 3, & \falls \varphi=(x_1\circ x_2)\mit x_1,x_2\in\mathcal{L}(\mathcal{R})%\text{ und }\circ\in\lbrace\wedge,\vee,\to,\leftrightarrow\rbrace
	\end{array}\right.
\end{align*}

\subsubsection{Aufgabe 2.1 (c)}

\textbf{Beweis durch strukturelle Induktion über $\varphi\in\mathcal{L}(\mathcal{R})$:}\\
Induktionsanfang: Sei $\varphi= p\in\mathcal{R}$. Dann gilt:
\begin{align*}
	\length(\varphi)=\length(p)\stackeq{\text{Def}}1>0\stackeq{\text{Def}}\depth(p)=\depth(\varphi)
\end{align*}
Induktionsvoraussetzung: Seien $F_1,F_2\in\mathcal{L}(\mathcal{R})$ beliebig aber fest mit
\begin{align*}
	\length(F_1)>\depth(F_1)\qquad\text{und}\qquad\length(F_2)>\depth(F_2).
\end{align*}
Induktionsschritt: Sei $\circ\in\lbrace\wedge,\vee,\to,\leftrightarrow\rbrace$. 
Dann gilt für $\varphi=\neg F_1:$
\begin{align*}
	\length(\varphi)
	&=\length(\neg F_1)\\
	\overset{\text{Def}}&=
	\length(F_1)+1\\
	\overset{\text{IV}}&{>}
	\depth(F_1)+1\\
	\overset{\text{Def}}&=
	\depth(\neg F_1)\\
	&=\depth(\varphi)
\end{align*}
und für $\varphi=(F_1\circ F_2)$ gilt
\begin{align*}
	\length(\varphi)
	&=\length((F_1\circ F_2))\\
	\overset{\text{Def}}&=
	\length(F_1)+\length(F_2)+3\\
	\overset{\text{IV}}&{>}
	\depth(F_1)+\depth(F_2)+3\\
	\overset{\text{Math}}&{>}
	\max\big(\depth(F_1),\depth(F_2)\big)+1\\
	\overset{\text{Def}}&=
	\depth((F_1\circ F_2))\\
	&=\depth(\varphi)
\end{align*}

\subsection{Aufgabe 2.2}
\subsubsection{Aufgabe 2.2 (a)}
\begin{enumerate}[label=(\arabic*)]
	\item $\begin{aligned}
		\big\lbrace (\neg p\wedge(q\to r)),\neg p, p, (q\to r),q,r\big\rbrace
	\end{aligned}$
	\item $\begin{aligned}
		\big\lbrace p\big\rbrace
	\end{aligned}$
\end{enumerate}

\subsubsection{Aufgabe 2.2 (b)}
\begin{enumerate}[label=(\arabic*)]
	\item $\begin{aligned}\big\lbrace
		(p\wedge q)
	\big\rbrace\end{aligned}$, da $F$ enthalten und keine Negationen drin.
	\item $\begin{aligned}\big\lbrace
		(p\wedge q), p, q, \neg m
	\big\rbrace\end{aligned}$, da man Eigenschaft 2 wirklich verletzen muss.
	\item $\emptyset$
\end{enumerate}

\subsection{Aufgabe 2.3}
Beweis durch strukturelle Induktion siehe Musterlösung\footnote{\textit{Logik und Logikprogrammierung 2. Aufgaben und Lösungen} von S. Hölldobler}.\\
Hier: Beweis durch Widerspruch: Angenommen, es existiert eine \underline{kürzeste} Formel 
$\varphi\in\mathcal{L}(\mathcal{R})$ und Interpretationen $I_1,I_2$ mit 
\begin{align*}
	[p]^{I_1}&=[p]^{I_2}\qquad\forall p\in\mathcal{R}_\varphi\text{ aber}\\
	[\varphi]^{I_1}&\neq[\varphi]^{I_2}
\end{align*}
Sei o.B.d.A. $[\varphi]^{I_2}=\top$. 
Dann gilt $[\varphi]^{I_2}=\bot$.\\
Offensichtlich: es existiert kein $q\in\mathcal{R}_\varphi\mit\varphi=q$.\nl
\underline{Falls $\varphi=\neg\psi$:}
\begin{align*}
	[\varphi]^{I_1}&=[\neg\psi]^{I_1}=\neg^\ast[\psi]^{I_1}\\
	[\varphi]^{I_2}&=[\neg\psi]^{I_2}=\neg^\ast[\psi]^{I_2}\\
	[\varphi]^{I_1}\neq[\varphi]^{I_2}&\implies[\psi]^{I_1}\neq[\psi]^{I_2}
\end{align*}
Dies ist aber ein Widerspruch zu der Annahme, dass es die kürzeste Formel war.\nl
\underline{Falls $\varphi=(\psi_1\wedge\psi_2)$:}
\begin{align*}
	[\varphi]^{I_1}&=\big[(\psi_1\wedge\psi_2)\big]^{I_1}=[\psi_1]^{I_1}\wedge^\ast[\psi_2]^{I_1}\\
	[\varphi]^{I_2}&=\big[(\psi_1\wedge\psi_2)\big]^{I_2}=[\psi_1]^{I_2}\wedge^\ast[\psi_2]^{I_2}
\end{align*}
Dann folgt aus $[\varphi]^{I_1}\neq[\varphi]^{I_2}$ und $[\varphi]^{I_1}=T$ folgt folgendes:
\begin{align*}
	[\psi_1]^{I_1}=[\psi_2]^{I_1}=\top\text{, aber} [\psi_1]^{I_2}=\bot\text{ oder }[\psi_2]^{I_2}=\bot\\
	\implies
	[\psi_1]^{I_1}=[\psi_1]^{I_2}\text{ oder }[\psi_2]^{I_1}\neq[\psi_2]^{I_2}
\end{align*}
Widerspruch!\nl
Analog für $\varphi=(\psi_1\circ\psi_2)\mit\circ\in\lbrace\vee,\to,\leftrightarrow\rbrace.\qquad\qquad\qquad\qquad\qquad\square$

\subsection{Aufgabe 2.4}
Beachte $\top:=$ wahr und $\bot:=$ falsch.

\subsubsection{Aufgabe 2.4 (a)}
\begin{tabular}{c|c||c|c|c}
	$p$ & $q$ & $(p\vee q)$ & $(p\vee q)\to q$ & $(((p\vee q)\to q)\to q)$\\ \hline
	$\top$ & $\top$ & $\top$ & $\top$ & $\top$\\
	$\bot$ & $\top$ & $\top$ & $\top$ & $\top$\\
	$\top$ & $\bot$ & $\top$ & $\bot$ & $\top$\\
	$\bot$ & $\bot$ & $\bot$ & $\top$ & $\bot$
\end{tabular}

\subsubsection{Aufgabe 2.4 (b)}
Die Formel aus Teil (a) ist
\begin{itemize}
	\item erfüllbar, denn sie kann wahr liefern.
	\item \underline{nicht} allgemeingültig, weil sie auch falsch liefern kann.
	\item widerlegbar, denn sie kann auch falsch liefern.
	\item \underline{nicht} unerfüllbar, denn sie kann auch wahr liefern.
\end{itemize}

\subsubsection{Aufgabe 2.4 (c)}
\begin{tabular}{c}
	$p$\\ \hline
	$\top$\\
	$\bot$
\end{tabular}

\subsection{Aufgabe 2.5 (Tautologie, erfüllbar, widerlegbar?)}
\subsubsection{Aufgabe 2.5 (a)}
\begin{tabular}{c|c||c|c|c}
	$p$ & $q$ & $(p\to q)$ & $(p\to q)\to p$ & $(((p\to q)\to p)\to p)$\\ \hline
	$\top$ & $\top$ & $\top$ & $\top$ & $\top$ \\
	$\bot$ & $\top$ & $\top$ & $\bot$ & $\top$ \\
	$\top$ & $\bot$ & $\bot$ & $\top$ & $\top$\\
	$\bot$ & $\bot$ & $\top$ & $\bot$ & $\top$\\
\end{tabular}

Die Formel ist allgemeingültig, erfüllbar, \underline{nicht} unerfüllbar und \underline{nicht} widerlegbar.

\subsubsection{Aufgabe 2.5 (b)}
%\begin{sidewaystable} %Alternative zu Landscape. Ist geschmackssache was besser ist. Kann man hier umstellen, wenn man möchte.
\begin{landscape}
	\begin{tabular}{c|c|c||c|c|c|c|c|c|c}
		$p$ & $q$ & $r$ & $(p\to q)$ & $(q\to r)$ & $((p\to q)\wedge(q\to r))$ & $(r\to q)$ & $(q\to p)$ & $((r\to q)\wedge(q\to p))$ & $F$ \\ \hline
		$\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$\\
		$\bot$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\bot$ & $\bot$ & $\top$\\
		$\top$ & $\bot$ & $\top$ & $\bot$ & $\top$ & $\bot$ & $\bot$ & $\top$ & $\bot$ & $\bot$\\
		$\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\top$ & $\bot$ & $\top$ & $\bot$ & $\top$\\ \hline
		$\top$ & $\top$ & $\bot$ & $\top$ & $\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\top$\\
		$\bot$ & $\top$ & $\bot$ & $\top$ & $\bot$ & $\bot$ & $\top$ & $\bot$ & $\bot$ & $\bot$\\
		$\top$ & $\bot$ & $\bot$ & $\bot$ & $\top$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\top$\\
		$\bot$ & $\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$
	\end{tabular}
\end{landscape}
%\end{sidewaystable}

Die Formel ist \underline{nicht} allgemeingültig, erfüllbar, \underline{nicht} unerfüllbar und widerlegbar.

\subsubsection{Aufgabe 2.5 (c)}
\begin{tabular}{c|c||c|c|c|c}
	$p$ & $q$ & $(p\to q)$ & $(p\to q)\to p$ & $(((p\to q)\to p)\to p)$ & $\neg(((p\to q)\to p)\to p)$\\ \hline
	$\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\bot$\\
	$\bot$ & $\top$ & $\bot$ & $\top$ & $\top$ & $\bot$\\
	$\top$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\bot$\\
	$\bot$ & $\bot$ & $\bot$ & $\bot$ & $\top$ & $\bot$\\
\end{tabular}

Die Formel ist \underline{nicht} allgemeingültig, \underline{nicht} erfüllbar, unerfüllbar und widerlegbar.

\subsubsection{Aufgabe 2.5 (d)}
Endliche Formelmengen lassen sich als Konjunktionen auffassen:
\begin{align*}
	\lbrace F_1,\ldots,F_n\rbrace\leftrightsquigarrow
	F_1\wedge\ldots\wedge F_n
\end{align*}
denn für alle Interpretationen $I$ gilt:
\begin{align*}
	I\models \lbrace F_1,\ldots,F_n\rbrace
	\Longleftrightarrow
	I\models\big(F_1\wedge\ldots\wedge F_n\big)
\end{align*}
Somit ist $\lbrace F_1,F_2\rbrace$ erfüllbar und widerlegbar, da $F_1$ allgemeingültig und $F_2$ erfüllbar und widerlegbar ist.
