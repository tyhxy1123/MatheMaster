% This work is licensed under the Creative Commons
% Attribution-NonCommercial-ShareAlike 4.0 International License. To view a copy
% of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/ or
% send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.

\section{Übungsblatt 1}

\subsection{Aufgabe 1.1 (Syntaktisch korrekt?)}
Grammatik für arithmetische Ausdrücke in BNF:
\begin{align*}
	\alpha::=|(\alpha_1+\alpha_2)|(\alpha_1-\alpha_2)|(\alpha_1\div\alpha_2)|(\alpha_1\ast\alpha_2)\mit q\in\Q
\end{align*}

\subsubsection{Aufgabe 1.1 (a)}
\begin{enumerate}[label=(\arabic*)]
	\item Nein, da, Klammern fehlen. Richtig wäre: $(((3-2)+(1-(3\times 4)))$ oder $(((3-2)+1)-(3\times 4))$.
	\item Nein, da rationale Zahlen nicht geklammert werden dürfen. Und ein unäres Minus ist auch nicht definiert. 
	(Anmerkung: Ist ein bisschen komisch, da man negative rationale Zahlen auch darstellen können muss.)
	\item Nein, da das Gleichheitszeichen nicht Teil des Alphabets ist.
	\item Nein, da es kein unäres Minuszeichen gibt.
	\item Nein, da $p,q$ aussagenlogische Variable. Wäre korrekt für $p,q\in\Q$.
\end{enumerate}

\subsubsection{Aufgabe 1.1 (b)}
Grammatik für aussagenlogische Formeln in BNF:
\begin{align*}
	\varphi::=p|\neg \varphi_1|(\varphi_1\wedge\varphi_2)|(\varphi_1\vee\varphi_2)|(\varphi_1\to\varphi_2)|(\varphi_1\leftrightarrow\varphi_2)\mit p\in\mathcal{R}
\end{align*}
Sind folgende Zeichenreihen aussagenlogische Formeln lauf Definition?
\begin{enumerate}[label=(\arabic*)]
	\item Nein, da die Zeichen ``1'' und ``2'' auftauchen.
	\item Nein, da die Zeichen ``2'' und ``3'' auftauchen.
	\item Ja.
	\item Nein, weil Klammern fehlen. Richtig wäre $((p\wedge p)\wedge(p\wedge p))$
	\item Nein, weil Klammern zu viel sind "$(\neg p)$" und fehlen und $\neg$ erwartet Ausdruck.
	\item Ja.
\end{enumerate}

\subsection{Aufgabe 1.2 (Induktionsbeweis \texorpdfstring{$n\leq n^2$}{n<=n²})}

\begin{proof}
	Induktionsanfang: $n=0:~0\leq0=0^2$\\
	Induktionsvoraussetzung: Gelte $n\leq n^2$ für beliebiges aber festes $n\in\N$.\\
	Induktionsschritt: 
	\begin{align*}
		n+1\leq
		n+\underbrace{2\cdot n}_{\geq0}+1
		\overset{\text{IV}}{\leq} n^2+2\cdot n+1=(n+1)^2\qquad\square
	\end{align*}
\end{proof}

\subsection{Aufgabe 1.3 (Unendliche Formeln?)}

\subsubsection{Aufgabe 1.3 (a)}
\betone{Idee:} Für alle $n\in\N$ ist $\underbrace{\neg\ldots\neg}_{(n-1)\text{-mal}}p$ eine Aussagenlogische der Formel der Länge $n$ falls $p\in\RR$.

\begin{proof}
	Beweis durch Induktion:\\
	Induktionsanfang: $n=1:$ Wähle $p\in\mathcal{R}$. 
	Dann gilt $p\in\mathcal{L}(\mathcal{R})$.\\
	Induktionsvoraussetzung: Für ein beliebiges aber festes $n\in\N$ gibt es eine aussagenlogische Formel der Länge $n$, in Zeichen 
	$\exists\varphi\in\mathcal{L}(\mathcal{R}):|\varphi|=n$.\\
	Induktionsschritt: Nach IV ist $\varphi$ aussagenlogische Formel der Länge $n$. 
	Dann ist $\neg\varphi$ nach Definition \ref{def3.5Formel} 2. auch aussagenlogische Formel, also 
	$\neg\varphi\in\mathcal{L}(\mathcal{R})$ und es gilt:
	\begin{align*}
		|\neg\varphi|=|\neg|+|\varphi|=1+|\varphi|=1+n	
	\end{align*}
\end{proof}

\subsubsection{Aufgabe 1.3 (b)}
\begin{proof}
	Beweis durch strukturelle Induktion über $\varphi\in\mathcal{L}(\mathcal{R})$ (Menge der aussagenlogischen Formeln).\\
	Induktionsanfang: Sei $\varphi=p$ für ein $p\in\mathcal{R}$. Dann $|\varphi|=|p|=1\in\N$\\
	Induktionshypothese: für aussagenlogische Formeln $\varphi_1,\varphi_2\in\mathcal{L}(\mathcal{R})$ gilt $|\varphi_1|,|\varphi_2|\in\N$.\\
	Induktionsschritt: 
	\begin{align*}
		\varphi=\neg\varphi_1&\implies|\varphi|=|\neg\varphi_1|=|\neg|+|\varphi_1|=1+|\varphi_1|\stackrel{\text{IH}}{\in}\N\\
		\varphi=(\varphi_1\circ\varphi_2)\mit\circ\in\lbrace\wedge,\vee,\to,\leftrightarrow\rbrace&\implies|\varphi|=|(\varphi_1\circ\varphi_2)|=3+|\varphi_1|+|\varphi_2|\stackrel{\text{IH}}{\in}\N
	\end{align*}
\end{proof}

\subsection{Aufgabe 1.4 (Induktion: Klammer, Variablen und Junktoren)}

\subsubsection{Aufgabe 1.4 (a)}

\begin{proof}
	Die Aussage stimmt, ja.\\
	Betrachte die Funktionen, die aufgehende bzw. schließende Klammern zählen:
	\begin{align*}
		\sk\equiv\ok:\mathcal{L}(\mathcal{R})\to\N,\qquad
		x\mapsto\left\lbrace\begin{array}{cl}
			0, & \falls x\in\mathcal{R}\text{ (ist Atom)}\\
			\ok(y), & \falls x=\neg y\\
			1+\ok(y)+\ok(z), & \falls x=(y\circ z)
		\end{array}\right.
	\end{align*}
	Man sieht schon, dass beide Funktionen für alle $x\in\mathcal{L}(\mathcal{R})$ übereinstimmen. 
	Aber man kann das Offensichtliche natürlich noch induktiv zeigen:\nl
	Zu zeigen: $\forall\varphi\in\mathcal{L}(\mathcal{R}):\ok(\varphi)=\sk(\varphi)$.\\
	Beweis über strukturelle Induktion:\\
	Induktionsanfang: Sei $\varphi=p\in\mathcal{R}$ Atom. Dann gilt: $\ok(p)=0=\sk(p)$.\\
	Induktionsvoraussetzung: Gelte für beliebiges aber festes 
	$\varphi_1,\varphi_2\in\mathcal{L}(\mathcal{R})$\\ $\ok(\varphi_1)=\sk(\varphi_1)$ und $\ok(\varphi_2)=\sk(\varphi_2)$ .\\ 
	Induktionsschritt:
	\begin{align*}
		\ok(\neg \varphi_1)
		&\stackeq{\text{Def}}\ok(\varphi_1)
		\stackeq{\text{IV}}\sk(\varphi_1)
		\stackeq{\text{Def}}\sk(\neg \varphi_1)\\
		\ok((\varphi_1\circ \varphi_2))
		&\stackeq{\text{Def}}1+\ok(\varphi_1)+\ok(\varphi_2)
		\stackeq{\text{IV}}1+\sk(\varphi_1)+\sk(\varphi_2)
		\stackeq{\text{Def}}\sk((\varphi_1\circ \varphi_2))
	\end{align*}
\end{proof}

\subsubsection{Aufgabe 1.4 (b)}

\begin{proof}
	Ja, diese Aussagen gilt.\\
	Betrachte die Funktion, die Klammern bzw. binäre Junktoren zählt:
	\begin{align*}
		\k:\mathcal{L}(\mathcal{R})\to\N,\quad
			x\mapsto\left\lbrace\begin{array}{cl}
			0, & \falls x\in\mathcal{R}\text{ (ist Atom)}\\
			\k(y), & \falls x=\neg y\\
			2+\k(y)+\k(z), & \falls x=(y\circ z)
		\end{array}\right.
		\quad \bj:\equiv \ok\equiv\sk
	\end{align*}

	Beweis durch strukturelle Induktion über $\varphi\in\mathcal{L}(\mathcal{R})$.\\
	Induktionsanfang: Sei $\varphi=p\in\mathcal{R}$ Atom. 
	Dann gilt: $\k(\varphi)=0=2\cdot 0=\bj(\varphi)$.\\
	Induktionsvoraussetzung: Gelte für beliebige aber feste $\varphi_1,\varphi_2\in\mathcal{L}(\mathcal{R})$\\
	$\k(\varphi_1)=2\cdot\bj(\varphi_1)$ und $\k(\varphi_2)=2\cdot\bj(\varphi_2)$.\\ 
	Induktionsschritt: betrachte $\varphi=\neg\varphi_1$ und $\varphi=(\varphi_1\circ\varphi_2)\mit\circ\in\lbrace\wedge,\vee,\to,\leftrightarrow\rbrace$: 
	\begin{align*}
		\k(\neg \varphi_1)
		\overset{\text{Def}}&=
		\k(\varphi_1)
		\overset{\text{IV}}=
		2\cdot\bj(\varphi_1)
		\overset{\text{Def}}=
		\bj(\neg \varphi_1)\\
		\k((\varphi_1\circ \varphi_2))
		\overset{\text{Def}}&=
		2+\k(\varphi_1)+\k(\varphi_2)\\
		\overset{\text{IV}}&=
		2+2\cdot\bj(\varphi_1)+2\cdot\bj(\varphi_2)\\
		&=2\cdot(1+\bj(\varphi_1)+\bj(\varphi_2))\\
		\overset{\text{Def}}&=
		2\cdot\bj((\varphi_1\circ \varphi_2))
	\end{align*}
\end{proof}

\subsubsection{Aufgabe 1.4 (c)}

\begin{lösung}
	Nein, Gegenbeispiel: $\neg\neg\neg p\in\mathcal{L}(\mathcal{R})$ wobei $p\in\mathcal{R}$ aussagenlogische Variable ist und $\neg$ unärer Junktor.
\end{lösung}

\subsection{Aufgabe 1.5 (Funktionen über Formelmengen)}
\subsubsection{Aufgabe 1.5 (a)}


\begin{lösung}
	Sei $A\in\mathcal{R}$ aussagenlogische Variable. Setze
	\begin{align*}
		h_A:\mathcal{L}(\mathcal{R})\to\N_0,\qquad x\mapsto \left\lbrace\begin{array}{cl}
			0, & \falls x\in\mathcal{R}\wedge x\neq A\\
			1, & \falls x\in\mathcal{R}\wedge x=A\\
			h_A(y), & \falls x=\neg y\\
			h_A(y)+h_A(z), & \falls x=(y\circ z)
		\end{array}\right.
	\end{align*}
	
	(unnötig) ausführlicher Zwischenschritt:
	\begin{align*}
		&h_{AR}:\mathcal{R}\to\N_0,\qquad x\mapsto \left\lbrace\begin{array}{cl}
			1, & \falls x= A\\
			0, & \sonst
		\end{array}\right.\\
		&h_{A\neg}:\N\to\N,\qquad n\mapsto n\\
		&h_{A\circ}:\N\times\N\to\N,\qquad(m,n)\mapsto m+n\\
		&\implies h_A:\mathcal{L}(\mathcal{R})\to\N_0,\qquad\varphi\mapsto
		\left\lbrace\begin{array}{cl}
			h_{AR}(p), & \falls \varphi=P\\
			h_{A\neg}(h_A(\varphi_1)), & \falls \varphi=\neg\varphi_1\\
			h_{A\circ}(h_A(\varphi_1),h_A(\varphi_2)), &\falls \varphi=(\varphi_1,\varphi_2)
		\end{array}\right.
	\end{align*}
\end{lösung}

\subsubsection{Aufgabe 1.5 (b)}

\begin{lösung}
	\begin{align*}
		\text{laenge}:\mathcal{L}(\mathcal{R})\to\N_0,\qquad x\mapsto \left\lbrace\begin{array}{cl}
			1, & \falls x\in\mathcal{R}\\
			1+\text{laenge}(y), & \falls x=\neg y\\
			3+\text{laenge}(y)+\text{laenge}(z), & \falls x=(y\circ z)
		\end{array}\right.
	\end{align*}
	Und damit:
	\begin{align*}
		\text{laenge}((p\vee(q\wedge\neg p))) 
		&=3+\text{laenge}(p)+\text{laenge}((q\wedge\neg p))\\
		&=3+1+3+\text{laenge}(q)+\text{laenge}(\neg p)\\
		&=7 + 1 + 1+ \text{laenge}(p)\\
		&=9+1=10
	\end{align*}
\end{lösung}

\subsubsection{Aufgabe 1.5 (c)}

\begin{lösung}
	\begin{align*}
		&\text{du}:\mathcal{L}(\mathcal{R})\to\mathcal{L}(\mathcal{R})\\
		&x\mapsto \left\lbrace\begin{array}{cl}
			\neg x, & \falls x=p\in\mathcal{R}\\
			\neg\text{du}(G), & \falls x=\neg G\\
			(\text{du}(G)\vee\text{du}(H)), & \falls x=(G\wedge H)\\
			(\text{du}(G)\wedge\text{du}(H)), & \falls x=(G\vee H)\\
			(\text{du}(H)\wedge\neg\text{du}(G)), & \falls x=(H\to G)\\
			((\text{du}(H)\wedge\neg \text{du}(G))\vee(\text{du}(G)\wedge\neg\text{du}(H))), & \falls x=(H\leftrightarrow G)\\
		\end{array}\right.
	\end{align*}

	Ausführlicher:
	\begin{align*}
		&\text{du}_R:\mathcal{R}\to\mathcal{L}(\mathcal{R}), 
			&\varphi&\mapsto\neg \varphi\\
		&\text{du}_{\neg}:\mathcal{L}(\mathcal{R})\to\mathcal{L}(\mathcal{R}),
			&\varphi&\mapsto\neg\varphi\\
		&\text{du}_{\wedge}:\mathcal{L}(\mathcal{R})\times\mathcal{L}(\mathcal{R})\to\mathcal{L}(\mathcal{R}),
			&(\varphi_1,\varphi_2)&\mapsto(\varphi_1\vee\varphi_2)\\
		&\text{du}_{\vee}:\mathcal{L}(\mathcal{R})\times\mathcal{L}(\mathcal{R})\to\mathcal{L}(\mathcal{R}),
			&(\varphi_1,\varphi_2)&\mapsto(\varphi_1\wedge\varphi_2)\\
		&\text{du}_{\to}:\mathcal{L}(\mathcal{R})\times\mathcal{L}(\mathcal{R})\to\mathcal{L}(\mathcal{R}),
			&(\varphi_1,\varphi_2)&\mapsto(\varphi_1\wedge\neg\varphi_2)\\
		&\text{du}_{\leftrightarrow}:\mathcal{L}(\mathcal{R})\times\mathcal{L}(\mathcal{R})\to\mathcal{L}(\mathcal{R}),
			&(\varphi_1,\varphi_2)&\mapsto((\varphi_1\wedge\varphi_2)\vee(\varphi_2\wedge\neg\varphi_1)
	\end{align*}

	Und damit:
	\begin{align*}
		\text{du}((p\to(p\wedge\neg q)))
		&=(\text{du}(p)\wedge\neg\text{du}((p\wedge\neg q)))\\
		&=(\neg p\wedge\neg(\text{du}(p)\vee\text{du}(\neg q)))\\
		&=(\neg p\wedge\neg(\neg p\vee\neg\text{du}(q)))\\
		&=(\neg p\wedge\neg(\neg p\vee\neg\neg q))\\
	\end{align*}
\end{lösung}
